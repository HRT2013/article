<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
        // 将当前路径转换为查询参数，然后重定向回 index.html
        var path = window.location.pathname;
        // 如果你的项目在子目录，比如 user.github.io/repo/，需要保留 /repo/
        // 下面的脚本会自动处理
        var repoName = window.location.pathname.split('/')[1]; 
        
        // 简单的重定向逻辑
        // 如果是在根目录部署 (username.github.io)，可以直接用 path
        // 如果是项目目录 (username.github.io/repo)，脚本会保留 repo
        
        // 这里我们使用一个通用的 hack：
        // 记录当前的 path，传递给 index.html
        sessionStorage.setItem('redirect', path);
        window.location.href = window.location.origin + '/' + path.split('/')[1] + '/?p=' + path;
    </script>
</head>
<body>
    Redirecting...
</body>
</html>
